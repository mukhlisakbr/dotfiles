{;; ======================================================================
 ;;                            APPLICATIONS
 ;; ======================================================================
 :applications {:vscode ["^com\\.microsoft\\.VSCode$"]
                :chrome ["^com\\.google\\.Chrome$"]}


 ;; ======================================================================
 ;;                         MAIN CONFIGURATION
 ;; ======================================================================
 :main [;; ----------------------------------------------------------------------
        ;; 1. LAYER DEFINITIONS
        ;; ----------------------------------------------------------------------
        {:des "Layer: Hyper Mode (Caps Lock)"
         :rules [;; Hold Caps Lock to activate "hyper-mode", tap for Escape.
                 [:caps_lock ["hyper-mode" 1] nil {:afterup ["hyper-mode" 0]
                                                   :alone :escape}]]}

        ;; ----------------------------------------------------------------------
        ;; 2. HYPER MODE RULES (Active while holding Caps Lock)
        ;; ----------------------------------------------------------------------
        {:des "Rules: Hyper Mode"
         :rules [;; --- VIM-STYLE NAVIGATION ---
                 [:h :left_arrow ["hyper-mode" 1]]         ;; Hyper + h -> Left
                 [:j :down_arrow ["hyper-mode" 1]]         ;; Hyper + j -> Down
                 [:k :up_arrow ["hyper-mode" 1]]           ;; Hyper + k -> Up
                 [:l :right_arrow ["hyper-mode" 1]]        ;; Hyper + l -> Right

                 ;; --- WINDOW MANAGEMENT ---
                 [:y :!TOleft_arrow ["hyper-mode" 1]]         ;; Hyper + y -> Tile Left
                 [:o :!TOright_arrow ["hyper-mode" 1]]        ;; Hyper + o -> Tile Right
                 [:u :!TOreturn_or_enter ["hyper-mode" 1]]    ;; Hyper + u -> Maximize

                 ;; --- TAB NAVIGATION ---
                 [:close_bracket :!Ttab ["hyper-mode" 1]]     ;; Hyper + ] -> Next Tab
                 [:open_bracket :!TStab ["hyper-mode" 1]]     ;; Hyper + [ -> Previous Tab

                 ;; --- SHELL & TEXT COMMANDS ---
                 [:c :!Tc ["hyper-mode" 1]]                ;; Hyper + c -> Interrupt (Ctrl+C)
                 [:r :!Tr ["hyper-mode" 1]]                ;; Hyper + r -> Reverse Search (Ctrl+R)
                 [:w :!Tw ["hyper-mode" 1]]                ;; Hyper + w -> Delete Word (Ctrl+W)

                 ;; --- VS CODE SPECIFIC RULES ---
                 [:t :!Tgrave_accent_and_tilde [:hyper-mode :vscode]]    ;; Hyper + t -> Toggle Terminal (Ctrl+`)
                 [:s :!TSg [:hyper-mode :vscode]]                        ;; Hyper + s -> Toggle Source Control (Ctrl+Shift+G)
                 [:e :!CSe [:hyper-mode :vscode]]                        ;; Hyper + e -> Toggle Explorer (Cmd+Shift+E)
                 [:x :!CSx [:hyper-mode :vscode]]                        ;; Hyper + x -> Toggle Extensions (Cmd+Shift+X)
                 [:f :!Cp [:hyper-mode :vscode]]                         ;; Hyper + f -> Go to File (Cmd+P)
                 [:g :!Ct [:hyper-mode :vscode]]                         ;; Hyper + g -> Go to Symbol (Cmd+T)
                 [:i :!SCa [:hyper-mode :vscode]]                        ;; Hyper + i -> Kilocode AI Agent (Shift+Cmd+A)
                 [:spacebar :!CSp [:hyper-mode :vscode]]                 ;; Hyper + Space -> Show All Commands (Cmd+Shift+P)

                 ;; --- CHROME SPECIFIC RULE ---
                 [:t :!CSa [:hyper-mode :chrome]]                        ;; Hyper + t -> Search Tabs (Cmd+Shift+A)
                 ]}

        ;; ----------------------------------------------------------------------
        ;; 3. GLOBAL SHORTCUTS & REMAPS (Work everywhere)
        ;; ----------------------------------------------------------------------
        {:des "Global: Shortcuts & Remaps"
         :rules [;; --- APP LAUNCHER (Right Command) ---
                 [:!Qb "open -a 'Google Chrome'"]          ;; Right Cmd + b -> Chrome
                 [:!Qt "open -a 'iTerm'"]                  ;; Right Cmd + t -> iTerm
                 [:!Qe "open -a 'Visual Studio Code'"]     ;; Right Cmd + e -> VS Code
                 [:!Qa "open -a 'ChatGPT'"]                ;; Right Cmd + a -> ChatGPT
                 [:!Qc "open -a 'WhatsApp'"]               ;; Right Cmd + c -> WhatsApp
                 [:!Qf "open -a 'Finder'"]                 ;; Right Cmd + f -> Finder

                 ;; --- KEY REMAPS ---
                 [:escape :caps_lock]                      ;; Remap Escape to Caps Lock
                 ]}]}
